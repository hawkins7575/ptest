<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="20ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì •ì¹˜ì  ì¢Œí‘œë¥¼ ì•Œì•„ë³´ëŠ” 2D ì •ì¹˜ì„±í–¥ í…ŒìŠ¤íŠ¸">
    <meta name="keywords" content="ì •ì¹˜ì„±í–¥, ì •ì¹˜í…ŒìŠ¤íŠ¸, ë³´ìˆ˜, ì§„ë³´, ì¤‘ë„">
    <title>2D ì •ì¹˜ì„±í–¥ í…ŒìŠ¤íŠ¸ - ë‚˜ëŠ” ë³´ìˆ˜ì¼ê¹Œ ì§„ë³´ì¼ê¹Œ?</title>
    
    <!-- Preload fonts for better performance -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Poppins:wght@600;700&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .font-poppins {
            font-family: 'Poppins', sans-serif;
        }
        .card {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .hidden-card {
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            pointer-events: none;
            position: absolute;
            width: 100%;
            left: 0;
            right: 0;
            margin: 0 auto;
        }
        .visible-card {
            opacity: 1;
            transform: translateY(0) scale(1);
            position: relative;
        }
        .btn-gradient {
            background-image: linear-gradient(to right, #4f46e5, #3b82f6);
            transition: all 0.3s ease;
        }
        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .progress-gradient {
            background-image: linear-gradient(to right, #22d3ee, #3b82f6);
        }
        .answer-btn:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
            transform: translateX(5px);
        }
        .answer-btn:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        .answer-btn.selected {
            animation: flash 0.5s ease;
        }
        @keyframes flash {
            0% { background-color: #eff6ff; }
            50% { background-color: #bfdbfe; }
            100% { background-color: #eff6ff; }
        }
        .question-slide-in {
            animation: slideIn 0.5s ease forwards;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .icon-animation {
            animation: fadeIn 1s ease forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-200 min-h-screen p-4">
    <!-- Google AdSense Advertisement Banner -->
    <!-- ì‹¤ì œ êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ ì½”ë“œë¡œ êµì²´í•˜ì„¸ìš” -->
    <!-- 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID"
         crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
         data-ad-slot="YOUR_AD_SLOT_ID"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    -->
    <div class="w-full max-w-4xl mx-auto mb-4 sm:mb-6 px-2 sm:px-4">
        <div class="bg-white rounded-lg shadow-md p-2 sm:p-4 border border-gray-200">
            <div class="flex items-center justify-center">
                <div class="bg-gray-100 rounded-lg p-2 sm:p-4 text-center w-full max-w-xs sm:max-w-md">
                    <div class="text-gray-500 text-xs sm:text-sm mb-1 sm:mb-2">ê´‘ê³ </div>
                    <div class="bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg p-4 sm:p-8 text-white text-center">
                        <div class="text-lg sm:text-2xl font-bold mb-1 sm:mb-2">ğŸ¯ ë§ì¶¤í˜• ê´‘ê³ </div>
                        <div class="text-xs sm:text-sm opacity-90">Google AdSense</div>
                    </div>
                    <div class="text-xs text-gray-400 mt-1 sm:mt-2">320 x 50 / 728 x 90</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container mx-auto max-w-2xl relative flex items-center justify-center min-h-[calc(100vh-180px)] sm:min-h-[calc(100vh-200px)] px-2 sm:px-4">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="card visible-card p-4 sm:p-8 lg:p-10 rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl text-center w-full">
            <h1 class="text-2xl sm:text-3xl lg:text-4xl font-poppins font-bold mb-3 sm:mb-4 text-gray-800">ë‚˜ëŠ” ë³´ìˆ˜ì¼ê¹Œ ì§„ë³´ì¼ê¹Œ?</h1>
            <p class="text-gray-600 mb-6 text-lg">
                20ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì •ì¹˜ì  ì¢Œí‘œë¥¼ ì•Œì•„ë³´ì„¸ìš”! ğŸ§­
            </p>
            <div class="mb-4">
                <input type="text" id="name-input" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" 
                       class="w-full p-3 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" 
                       aria-label="ì´ë¦„ ì…ë ¥" maxlength="20">
                <p id="name-error" class="text-red-500 text-sm h-5 mt-1"></p>
            </div>
            <button id="start-btn" class="w-full btn-gradient text-white font-bold py-3 px-6 rounded-lg text-lg shadow-md">
                í…ŒìŠ¤íŠ¸ ì‹œì‘!
            </button>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div id="quiz-screen" class="card hidden-card p-4 sm:p-8 lg:p-10 rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl w-full">
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-blue-700 font-poppins">ì§ˆë¬¸ <span id="question-number">1</span>/20</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                    <div id="progress-bar" class="progress-gradient h-2.5 rounded-full transition-all duration-500" style="width: 5%"></div>
                </div>
            </div>
            <h2 id="question-title" class="text-xl sm:text-2xl font-bold mb-6 text-gray-800 leading-snug question-slide-in"></h2>
            <div id="answer-buttons" class="space-y-4"></div>
            <p id="answer-comment" class="text-gray-600 text-sm mt-4 italic h-5"></p>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="card hidden-card p-4 sm:p-8 lg:p-10 rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl w-full">
            <div class="text-center">
                <h1 class="text-2xl sm:text-3xl font-poppins font-bold mb-2 text-gray-800">í…ŒìŠ¤íŠ¸ ê²°ê³¼</h1>
                <p id="result-title" class="text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base">ë‹¹ì‹ ì˜ ì •ì¹˜ì  ì¢Œí‘œëŠ”...</p>
            </div>
            
            <!-- 2D Compass Display -->
            <div id="compass-container" class="relative w-full max-w-xs mx-auto h-48 sm:h-64 lg:h-80 bg-gray-50/50 border border-gray-200 rounded-lg mb-6 sm:mb-8 shadow-inner">
                <!-- Axes -->
                <div class="absolute top-1/2 left-0 w-full h-px bg-gray-300 -translate-y-1/2"></div>
                <div class="absolute left-1/2 top-0 w-px h-full bg-gray-300 -translate-x-1/2"></div>
                <div class="absolute top-1/2 left-1/2 w-1.5 h-1.5 bg-gray-400 rounded-full -translate-x-1/2 -translate-y-1/2"></div>

                <!-- Labels -->
                <span class="absolute top-1 left-1/2 -translate-x-1/2 text-xs text-gray-500 bg-gray-50/50 px-1">ì‚¬íšŒì  ê¶Œìœ„ì£¼ì˜</span>
                <span class="absolute bottom-1 left-1/2 -translate-x-1/2 text-xs text-gray-500 bg-gray-50/50 px-1">ì‚¬íšŒì  ììœ ì£¼ì˜</span>
                <span class="absolute left-1 top-1/2 -translate-y-1/2 text-xs text-gray-500 bg-gray-50/50 py-1">ê²½ì œì  ì¢ŒíŒŒ</span>
                <span class="absolute right-1 top-1/2 -translate-y-1/2 text-xs text-gray-500 bg-gray-50/50 py-1">ê²½ì œì  ìš°íŒŒ</span>

                <!-- Result Dot -->
                <div id="result-dot" class="absolute w-4 h-4 bg-indigo-600 rounded-full border-2 border-white shadow-lg transition-all duration-1000 ease-out" style="bottom: 50%; left: 50%; transform: translate(-50%, 50%);">
                    <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2">
                        <span id="result-dot-label" class="text-sm font-bold text-indigo-700 whitespace-nowrap bg-white/70 px-2 py-1 rounded"></span>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <div class="inline-flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4">
                    <span id="result-icon" class="text-4xl sm:text-5xl icon-animation"></span>
                    <div id="result-display" class="text-white text-xl sm:text-2xl lg:text-3xl font-bold font-poppins py-2 sm:py-3 px-3 sm:px-5 rounded-lg text-center"></div>
                </div>
                <p id="result-description" class="text-gray-700 leading-relaxed mt-4 max-w-md mx-auto text-sm sm:text-base"></p>
            </div>

            <div id="meme-section" class="mt-8 p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-center">
                <h3 class="font-bold text-yellow-800 mb-1">í•œë§ˆë””ë¡œ ë‹¹ì‹ ì€?</h3>
                <p id="meme-text" class="text-gray-700"></p>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200">
                <div id="general-info" class="space-y-4 text-sm text-gray-600"></div>
            </div>

            <div class="mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200 text-center">
                <p class="font-bold text-gray-700 mb-3 sm:mb-4 text-sm sm:text-base">ê²°ê³¼ ê³µìœ í•˜ê¸°</p>
                <div class="flex justify-center items-center space-x-2 sm:space-x-3 lg:space-x-4">
                    <a id="twitter-share" href="#" target="_blank" rel="noopener noreferrer" 
                       class="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-[#1DA1F2] text-white hover:opacity-90 transition" 
                       title="Xì— ê³µìœ " aria-label="Xë¡œ ê²°ê³¼ ê³µìœ ">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
                        </svg>
                    </a>
                    <a id="facebook-share" href="#" target="_blank" rel="noopener noreferrer" 
                       class="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-[#1877F2] text-white hover:opacity-90 transition" 
                       title="Facebookì— ê³µìœ " aria-label="í˜ì´ìŠ¤ë¶ìœ¼ë¡œ ê²°ê³¼ ê³µìœ ">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path>
                        </svg>
                    </a>
                    <button id="copy-link-btn" class="h-10 sm:h-12 flex items-center justify-center rounded-full bg-gray-600 text-white hover:opacity-90 transition px-3 sm:px-4 lg:px-5 text-xs sm:text-sm lg:text-base" 
                            title="ê²°ê³¼ ë§í¬ ë³µì‚¬" aria-label="ê²°ê³¼ ë§í¬ ë³µì‚¬">
                        <span id="copy-link-icon">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 mr-1 sm:mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                            </svg>
                        </span>
                        <span id="copy-link-text">ë§í¬ ë³µì‚¬</span>
                    </button>
                </div>
                <p id="copy-error" class="text-red-500 text-sm h-5 mt-2"></p>
            </div>
            <div class="mt-8">
                <button id="restart-btn" class="w-full btn-gradient text-white font-bold py-3 px-6 rounded-lg text-lg shadow-md">
                    ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // ì§ˆë¬¸ ëª©ë¡ (type: 'economic' or 'social')
        const questions = [
            // Economic Questions
            { question: "ìµœì €ì„ê¸ˆ ì¸ìƒì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ì €ì†Œë“ì¸µ ìƒí™œ ì•ˆì •ì„ ìœ„í•´ í° í­ìœ¼ë¡œ ì¸ìƒí•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ë¬¼ê°€ ìƒìŠ¹ë¥  ë“±ì„ ê³ ë ¤í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ì¸ìƒí•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ê¸°ì—… ë¶€ë‹´ì„ ì¤„ì´ê³  ê³ ìš© ìœ„ì¶•ì„ ë§‰ê¸° ìœ„í•´ ì¸ìƒì„ ìµœì†Œí™”í•˜ê±°ë‚˜ ë™ê²°í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ì •ë¶€ì˜ ì‹œì¥ ê°œì…ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ì…ì¥ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ì‹œì¥ì˜ ë¶ˆí‰ë“± í•´ì†Œë¥¼ ìœ„í•´ ì •ë¶€ê°€ ì ê·¹ì ìœ¼ë¡œ ê°œì…í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì‹œì¥ì˜ ì‹¤íŒ¨ê°€ ëª…ë°±í•œ ê²½ìš°ì— í•œí•´ ì œí•œì ìœ¼ë¡œ ê°œì…í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ììœ ë¡œìš´ ê²½ìŸ ì´‰ì§„ì„ ìœ„í•´ ì •ë¶€ì˜ ì‹œì¥ ê°œì…ì„ ìµœì†Œí™”í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ë¶€ë™ì‚° ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë” ì¤‘ìš”í•œ ê²ƒì€ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ë³´ìœ ì„¸ ê°•í™”ë¡œ íˆ¬ê¸° ìˆ˜ìš”ë¥¼ ì–µì œí•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì„¸ê¸ˆ ì •ì±…ê³¼ ê³µê³µì£¼íƒ ê³µê¸‰ í™•ëŒ€ë¥¼ ë³‘í–‰í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ë¯¼ê°„ ì£¼íƒ ê³µê¸‰ í™œì„±í™”ë¥¼ ìœ„í•´ ê·œì œë¥¼ ì™„í™”í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ë³µì§€ ì •ì±…ì˜ ë°”ëŒì§í•œ ë°©í–¥ì€ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ëª¨ë“  êµ­ë¯¼ì˜ ê¸°ë³¸ ìƒí™œ ë³´ì¥ì„ ìœ„í•´ ë³´í¸ì  ë³µì§€ë¥¼ í™•ëŒ€í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ë³´í¸ì  ë³µì§€ì™€ ì„ ë³„ì  ë³µì§€ë¥¼ ì¡°í™”ë¡­ê²Œ ìš´ì˜í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ê¼­ í•„ìš”í•œ ê³„ì¸µì—ê²Œ í˜œíƒì´ ì§‘ì¤‘ë˜ë„ë¡ ì„ ë³„ì  ë³µì§€ë¥¼ ê°•í™”í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ëŒ€ê¸°ì—…ì— ëŒ€í•œ ì •ë¶€ì˜ ì •ì±… ë°©í–¥ìœ¼ë¡œ ë” ì ì ˆí•œ ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ê²½ì œë ¥ ì§‘ì¤‘ì„ ë§‰ê¸° ìœ„í•´ ëŒ€ê¸°ì—…ì— ëŒ€í•œ ê·œì œê°€ í•„ìš”í•˜ë‹¤.", value: -1 }, { text: "ì„±ì¥ì„ ì§€ì›í•˜ë˜, ë¶ˆê³µì • í–‰ìœ„ëŠ” ì—„ê²©íˆ ê·œì œí•´ì•¼ í•œë‹¤.", value: 0 }, { text: "êµ­ê°€ ê²½ìŸë ¥ ê°•í™”ë¥¼ ìœ„í•´ ê·œì œë¥¼ ì™„í™”í•˜ê³  íˆ¬ìë¥¼ í™œì„±í™”í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ì›ìë ¥ ë°œì „ì†Œ ê±´ì„¤ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ë¯¸ë˜ ì„¸ëŒ€ì˜ ì•ˆì „ì„ ìœ„í•´ ì›ì „ì„ íì§€í•˜ê³  ì‹ ì¬ìƒì—ë„ˆì§€ë¡œ ì „í™˜í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì•ˆì „ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ, ì‹ ì¬ìƒì—ë„ˆì§€ì™€ ë³‘í–‰í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ì¶•ì†Œí•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ì•ˆì •ì ì¸ ì—ë„ˆì§€ ê³µê¸‰ì„ ìœ„í•´ ì›ì „ ë¹„ì¤‘ì„ ìœ ì§€í•˜ê±°ë‚˜ í™•ëŒ€í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ë²•ì¸ì„¸ ì¸í•˜ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ì…ì¥ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ì¡°ì„¸ í˜•í‰ì„±ê³¼ ì¬ì • ê±´ì „ì„±ì„ ìœ„í•´ ë²•ì¸ì„¸ë¥¼ í˜„í–‰ ìœ ì§€í•˜ê±°ë‚˜ ì¸ìƒí•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ê²½ì œ ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ íƒ„ë ¥ì ìœ¼ë¡œ ì„¸ìœ¨ì„ ì¡°ì •í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ê¸°ì—…ì˜ íˆ¬ì ë° ê³ ìš© í™•ëŒ€ë¥¼ ìœ ë„í•˜ê¸° ìœ„í•´ ë²•ì¸ì„¸ë¥¼ ì¸í•˜í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ë…¸ë™ì¡°í•©ì˜ í™œë™ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "ë…¸ë™ì ê¶Œìµ ë³´í˜¸ë¥¼ ìœ„í•´ ë…¸ì¡°ì˜ ê¶Œë¦¬ëŠ” í­ë„“ê²Œ ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤.", value: -1 }, { text: "ë…¸ì‚¬ ê°„ ê· í˜•ì„ ìœ„í•´ ë²•ê³¼ ì›ì¹™ì— ë”°ë¥¸ í™œë™ì´ ì¤‘ìš”í•˜ë‹¤.", value: 0 }, { text: "ê³¼ë„í•œ í™œë™ì€ ê¸°ì—… ê²½ì˜ì„ ìœ„ì¶•ì‹œí‚¤ë¯€ë¡œ, ë¶ˆë²• í–‰ìœ„ëŠ” ì—„ì • ëŒ€ì‘í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "êµ­ê°€ ì¬ì • ìš´ìš©ì—ì„œ ë” ìš°ì„ ë˜ì–´ì•¼ í•  ê°€ì¹˜ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "êµ­ë¯¼ ì‚¶ì˜ ì§ˆ í–¥ìƒì„ ìœ„í•´ ë³µì§€ ë° ì‚¬íšŒ ì•ˆì „ë§ í™•ì¶©ì— ì¬ì •ì„ ì ê·¹ ì‚¬ìš©í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ë‹¨ê¸°ì  í•„ìš”ì™€ ì¥ê¸°ì  ì¬ì • ê±´ì „ì„± ì‚¬ì´ì˜ ê· í˜•ì„ ë§ì¶°ì•¼ í•œë‹¤.", value: 0 }, { text: "ë¯¸ë˜ ì„¸ëŒ€ ë¶€ë‹´ì„ ì¤„ì´ê¸° ìœ„í•´ ì¬ì • ê±´ì „ì„± í™•ë³´ê°€ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.", value: 1 }] },
            { question: "ììœ ë¬´ì—­í˜‘ì •(FTA) í™•ëŒ€ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°ì€ ì–´ë–»ìŠµë‹ˆê¹Œ?", type: 'economic', answers: [{ text: "êµ­ë‚´ ì·¨ì•½ ì‚°ì—… ë³´í˜¸ë¥¼ ìœ„í•´ FTA í™•ëŒ€ì— ì‹ ì¤‘í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "êµ­ìµì„ ê·¹ëŒ€í™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì‹ ì¤‘íˆ ì¶”ì§„í•˜ë˜, êµ­ë‚´ í”¼í•´ ì‚°ì—… ëŒ€ì±…ì´ ìš°ì„ ë˜ì–´ì•¼ í•œë‹¤.", value: 0 }, { text: "ìˆ˜ì¶œ ì‹œì¥ í™•ëŒ€ë¥¼ í†µí•œ ê²½ì œ ì„±ì¥ì„ ìœ„í•´ FTAë¥¼ ì ê·¹ì ìœ¼ë¡œ í™•ëŒ€í•´ì•¼ í•œë‹¤.", value: 1 }] },
            // Social Questions
            { question: "ë¶í•œì— ëŒ€í•œ ë°”ëŒì§í•œ ì •ì±… ê¸°ì¡°ëŠ” ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "í‰í™” ì •ì°©ì„ ìœ„í•´ ëŒ€í™”ì™€ êµë¥˜ í˜‘ë ¥ì„ ìš°ì„ í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ëŒ€í™”ì™€ ì••ë°•ì„ ë³‘í–‰í•˜ë©° í•œë°˜ë„ ë¹„í•µí™”ì™€ í‰í™”ë¥¼ ì¶”êµ¬í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ê°•ë ¥í•œ ì•ˆë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì›ì¹™ ìˆëŠ” ì••ë°•ì´ ì¤‘ìš”í•˜ë‹¤.", value: 1 }] },
            { question: "ì‚¬í˜•ì œ ìœ ì§€ ë˜ëŠ” íì§€ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ì¸ê°„ì˜ ì¡´ì—„ì„±ê³¼ ì˜¤íŒ ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•˜ì—¬ íì§€í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì‚¬íšŒì  í•©ì˜ê°€ ì´ë¤„ì§ˆ ë•Œê¹Œì§€ ì§‘í–‰ì€ ì‹ ì¤‘í•˜ë˜, ì œë„ëŠ” ìœ ì§€í•  ìˆ˜ ìˆë‹¤.", value: 0 }, { text: "í‰ì•… ë²”ì£„ ì˜ˆë°©ê³¼ ì‚¬íšŒ ì •ì˜ ì‹¤í˜„ì„ ìœ„í•´ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "êµ­ê°€ë³´ì•ˆë²•ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ì…ì¥ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ì‚¬ìƒê³¼ í‘œí˜„ì˜ ììœ ë¥¼ ì–µì••í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ íì§€í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì‹œëŒ€ ë³€í™”ì— ë§ê²Œ ì¸ê¶Œ ì¹¨í•´ ì†Œì§€ê°€ ìˆëŠ” ì¡°í•­ì€ ê°œì •í•  í•„ìš”ê°€ ìˆë‹¤.", value: 0 }, { text: "êµ­ê°€ ì•ˆë³´ë¥¼ ìœ„í˜‘í•˜ëŠ” í–‰ìœ„ë¥¼ ë§‰ê¸° ìœ„í•´ í•„ìš”í•˜ë‹¤.", value: 1 }] },
            { question: "ì—­ì‚¬ êµê³¼ì„œ ì§‘í•„ì— ëŒ€í•œ ë°”ëŒì§í•œ ë°©ì‹ì€ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ë‹¤ì–‘í•œ ì—­ì‚¬ê´€ì´ ì¡´ì¤‘ë˜ë„ë¡ ë¯¼ê°„ ì „ë¬¸ê°€ë“¤ì´ ììœ¨ì ìœ¼ë¡œ ì§‘í•„í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "êµ­ê°€ê°€ ê¸°ë³¸ì ì¸ ê°€ì´ë“œë¼ì¸ì„ ì œì‹œí•˜ê³ , ë‹¤ì–‘í•œ êµê³¼ì„œê°€ ê³µì¡´í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "í†µì¼ì„± í™•ë³´ë¥¼ ìœ„í•´ êµ­ê°€ê°€ ì •í•œ ê¸°ì¤€ìœ¼ë¡œ ì œì‘í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ì„±ì†Œìˆ˜ìì˜ ê¶Œë¦¬ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ì°¨ë³„ê¸ˆì§€ë²• ì œì • ë“±ì„ í†µí•´ ì„±ì†Œìˆ˜ìì˜ ì¸ê¶Œì„ ì ê·¹ ë³´í˜¸í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ì‚¬íšŒì  ì°¨ë³„ì—ëŠ” ë°˜ëŒ€í•˜ì§€ë§Œ, ë™ì„± ê²°í˜¼ ë²•ì œí™” ë“±ì€ ì‚¬íšŒì  í•©ì˜ê°€ ë” í•„ìš”í•˜ë‹¤.", value: 0 }, { text: "ì „í†µì ì¸ ê°€ì¡± ê°€ì¹˜ì™€ ì‚¬íšŒ ì§ˆì„œë¥¼ ì¡´ì¤‘í•˜ëŠ” ê²ƒì´ ìš°ì„ ì´ë‹¤.", value: 1 }] },
            { question: "ì™¸êµ­ì¸ ì´ë¯¼ì ìˆ˜ìš©ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ë¬¸í™” ë‹¤ì–‘ì„± ì¦ì§„ê³¼ ì¸ê¶Œ ì¡´ì¤‘ ì°¨ì›ì—ì„œ ì ê·¹ì ìœ¼ë¡œ ìˆ˜ìš©í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "êµ­ê°€ ê²½ì œì— í•„ìš”í•œ ì¸ë ¥ ì¤‘ì‹¬ìœ¼ë¡œ ì œí•œì ìœ¼ë¡œ ìˆ˜ìš©í•˜ê³  ì‚¬íšŒ í†µí•© ì •ì±…ì„ ê°•í™”í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "ë‚´êµ­ì¸ ì¼ìë¦¬ ë³´í˜¸ì™€ ì‚¬íšŒ ì•ˆì •ì„ ìœ„í•´ ì‹ ì¤‘í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ê¶Œë ¥ê¸°ê´€(ê²€ì°°, ê²½ì°° ë“±) ê°œí˜ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ì…ì¥ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ê¶Œë ¥ ë‚¨ìš©ì„ ë§‰ê¸° ìœ„í•´ ê°•ë ¥í•œ ê°œí˜ìœ¼ë¡œ ê¸°ê´€ ê°„ ê²¬ì œì™€ ê· í˜•ì„ ì´ë¤„ì•¼ í•œë‹¤.", value: -1 }, { text: "êµ­ë¯¼ ì‹ ë¢° íšŒë³µì„ ìœ„í•´ ì •ì¹˜ì  ì¤‘ë¦½ì„±ì„ ê°•í™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì ì§„ì  ê°œí˜ì´ í•„ìš”í•˜ë‹¤.", value: 0 }, { text: "ì‚¬íšŒ ì§ˆì„œ ìœ ì§€ë¥¼ ìœ„í•´ ê¶Œë ¥ê¸°ê´€ì˜ ë…ë¦½ì„±ê³¼ ì—­ëŸ‰ì„ ì¡´ì¤‘í•˜ê³  ë³´ì¥í•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "ì§‘íšŒ ë° ì‹œìœ„ì˜ ììœ ëŠ” ì–´ë””ê¹Œì§€ ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "í‘œí˜„ì˜ ììœ ëŠ” ìµœëŒ€í•œ ë³´ì¥ë˜ì–´ì•¼ í•˜ë©°, ì¼ë¶€ ë¶ˆí¸ì„ ê°ìˆ˜í•˜ë”ë¼ë„ ìš°ì„ í•´ì•¼ í•œë‹¤.", value: -1 }, { text: "ììœ ëŠ” ë³´ì¥ë˜ì–´ì•¼ í•˜ì§€ë§Œ, íƒ€ì¸ì˜ ê¶Œë¦¬ë¥¼ ì¹¨í•´í•˜ê±°ë‚˜ í­ë ¥ìœ¼ë¡œ ë³€ì§ˆë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤.", value: 0 }, { text: "ì‹œë¯¼ì˜ ì¼ìƒê³¼ ê³µê³µì§ˆì„œë¥¼ í•´ì¹˜ëŠ” ë¶ˆë²• í–‰ìœ„ëŠ” ì—„ê²©íˆ í†µì œí•´ì•¼ í•œë‹¤.", value: 1 }] },
            { question: "í•œë¯¸ ë™ë§¹ì˜ ë¯¸ë˜ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ìƒí˜¸ í˜¸í˜œì ì¸ ê´€ê³„ë¡œ ì „í™˜í•˜ë©°, ì ì§„ì ìœ¼ë¡œ ì™¸êµì  ììœ¨ì„±ì„ í™•ëŒ€í•´ ë‚˜ê°€ì•¼ í•œë‹¤.", value: -1 }, { text: "êµ³ê±´í•œ ë™ë§¹ì„ ìœ ì§€í•˜ë˜, êµ­ìµì„ ì¤‘ì‹¬ìœ¼ë¡œ ì‚¬ì•ˆì— ë”°ë¼ ìœ ì—°í•˜ê²Œ í˜‘ë ¥í•´ì•¼ í•œë‹¤.", value: 0 }, { text: "êµ­ê°€ ì•ˆë³´ì˜ í•µì‹¬ì¶•ì´ë¯€ë¡œ, ë”ìš± êµ³ê±´í•˜ê³  í¬ê´„ì ì¸ ë™ë§¹ìœ¼ë¡œ ë°œì „ì‹œì¼œì•¼ í•œë‹¤.", value: 1 }] },
            { question: "êµìœ¡ ì •ì±…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê°€ì¹˜ëŠ” ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?", type: 'social', answers: [{ text: "ëª¨ë“  í•™ìƒì´ ì°¨ë³„ ì—†ì´ êµìœ¡ë°›ë„ë¡ ê¸°íšŒì˜ í‰ë“±ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.", value: -1 }, { text: "ìˆ˜ì›”ì„±ê³¼ í˜•í‰ì„± êµìœ¡ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ì•¼ í•œë‹¤.", value: 0 }, { text: "í•™ìƒë“¤ì˜ í•™ë ¥ ì‹ ì¥ê³¼ ê²½ìŸë ¥ ê°•í™”ë¥¼ í†µí•œ ìˆ˜ì›”ì„± êµìœ¡ì´ ì¤‘ìš”í•˜ë‹¤.", value: 1 }] }
        ];

        // DOM ìš”ì†Œ
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const nameInput = document.getElementById('name-input');
        const nameError = document.getElementById('name-error');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionNumber = document.getElementById('question-number');
        const progressBar = document.getElementById('progress-bar');
        const questionTitle = document.getElementById('question-title');
        const answerButtons = document.getElementById('answer-buttons');
        const answerComment = document.getElementById('answer-comment');
        const resultTitle = document.getElementById('result-title');
        const resultIcon = document.getElementById('result-icon');
        const resultDisplay = document.getElementById('result-display');
        const resultDescription = document.getElementById('result-description');
        const generalInfo = document.getElementById('general-info');
        const memeText = document.getElementById('meme-text');
        const copyError = document.getElementById('copy-error');

        // ìƒíƒœ ë³€ìˆ˜
        let currentQuestionIndex = 0;
        let economicScore = 0;
        let socialScore = 0;
        let userName = '';
        let userAnswers = [];

        // ìœ ë¨¸ ì½”ë©˜íŠ¸
        const comments = { 
            '-1': ["ì§„ë³´ì ì¸ ìƒê°ì´ë„¤ìš”! ğŸŒŠ", "ë³€í™”ë¥¼ í–¥í•œ ì„ íƒ!", "í‰ë“±ì˜ ê°€ì¹˜ë¥¼ ì¤‘ì‹œí•˜ëŠ”êµ°ìš”."], 
            '0': ["ê· í˜• ì¡íŒ ì‹œê°ì´êµ°ìš”. âš–ï¸", "ì‹ ì¤‘í•œ íŒë‹¨ì´ë„¤ìš”.", "ì¤‘ë¦½ì ì¸ ì…ì¥ì´ì‹œêµ°ìš”."], 
            '1': ["ë³´ìˆ˜ì ì¸ ê´€ì ì´ë„¤ìš”! ğŸ›ï¸", "ì•ˆì •ì„ ì¤‘ì‹œí•˜ëŠ” ì„ íƒ!", "ì „í†µì ì¸ ê°€ì¹˜ë¥¼ ì§€í‚¤ëŠ”êµ°ìš”."] 
        };
        
        // ì„±í–¥ë³„ í…Œë§ˆ, ì•„ì´ì½˜, ë°ˆ
        const themes = {
            authLeft: { icon: 'ğŸš©', class: 'bg-gradient-to-r from-red-500 to-red-700' },
            authRight: { icon: 'ğŸ›ï¸', class: 'bg-gradient-to-r from-blue-500 to-blue-700' },
            libLeft: { icon: 'ğŸ•Šï¸', class: 'bg-gradient-to-r from-green-400 to-green-600' },
            libRight: { icon: 'ğŸ—½', class: 'bg-gradient-to-r from-yellow-400 to-yellow-600' },
            centrist: { icon: 'âš–ï¸', class: 'bg-gradient-to-r from-gray-500 to-gray-700' }
        };
        const memes = {
            authLeft: "êµ­ê°€ ì£¼ë„ í‰ë“± ì‚¬íšŒ!",
            authRight: "ê°•í•œ êµ­ê°€, ì•ˆì •ëœ ì‚¬íšŒ!",
            libLeft: "ììœ ì™€ í‰ë“±, ëª¨ë‘ë¥¼ ìœ„í•´!",
            libRight: "ê°„ì„­ì€ ìµœì†Œ, ììœ ëŠ” ìµœëŒ€ë¡œ!",
            centrist: "ì–‘ìª½ ë§ ë‹¤ ë“¤ì–´ë³´ê³  ê²°ì •í•©ë‹ˆë‹¤."
        };

        // ì§ˆë¬¸ ìˆœì„œ ë¬´ì‘ìœ„í™”
        function shuffleQuestions() {
            for (let i = questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [questions[i], questions[j]] = [questions[j], questions[i]];
            }
        }

        // ì´ë¦„ ê²€ì¦ í•¨ìˆ˜ (ê°œì„ ë¨)
        function validateName(name) {
            const trimmedName = name.trim();
            if (!trimmedName) {
                return { isValid: false, message: 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!' };
            }
            if (trimmedName.length < 2) {
                return { isValid: false, message: 'ì´ë¦„ì€ 2ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”!' };
            }
            if (trimmedName.length > 20) {
                return { isValid: false, message: 'ì´ë¦„ì€ 20ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!' };
            }
            if (!/^[ê°€-í£a-zA-Z\s]+$/.test(trimmedName)) {
                return { isValid: false, message: 'ì´ë¦„ì—ëŠ” í•œê¸€, ì˜ë¬¸, ê³µë°±ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤!' };
            }
            return { isValid: true, message: '' };
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        startBtn.addEventListener('click', startTest);
        restartBtn.addEventListener('click', restartTest);
        nameInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') startTest(); });

        function startTest() {
            const validation = validateName(nameInput.value);
            if (!validation.isValid) {
                nameError.textContent = validation.message;
                nameInput.focus();
                return;
            }
            
            nameError.textContent = '';
            userName = nameInput.value.trim();
            shuffleQuestions();
            currentQuestionIndex = 0;
            economicScore = 0;
            socialScore = 0;
            userAnswers = [];
            switchScreen(startScreen, quizScreen);
            showQuestion();
        }

        function restartTest() {
            nameInput.value = '';
            // Reset dot to center before hiding
            const resultDot = document.getElementById('result-dot');
            resultDot.style.transition = 'none';
            resultDot.style.left = `50%`;
            resultDot.style.bottom = `50%`;
            
            switchScreen(resultScreen, startScreen);
            
            // Re-enable transition after a short delay
            setTimeout(() => {
                resultDot.style.transition = 'all 1s ease-out';
            }, 50);
        }

        function switchScreen(from, to) {
            from.classList.remove('visible-card');
            from.classList.add('hidden-card');
            setTimeout(() => {
                to.classList.remove('hidden-card');
                to.classList.add('visible-card');
                if (to === startScreen) nameInput.focus();
                else if (to === quizScreen) answerButtons.querySelector('button')?.focus();
            }, 300);
        }

        function showQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }
            const currentQuestion = questions[currentQuestionIndex];
            questionNumber.textContent = currentQuestionIndex + 1;
            progressBar.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            progressBar.parentElement.setAttribute('aria-valuenow', ((currentQuestionIndex + 1) / questions.length) * 100);
            questionTitle.textContent = currentQuestion.question;
            questionTitle.classList.add('question-slide-in');
            answerComment.textContent = '';
            answerButtons.innerHTML = '';

            currentQuestion.answers.forEach(answer => {
                const button = document.createElement('button');
                button.textContent = answer.text; // innerHTML ëŒ€ì‹  textContent ì‚¬ìš©
                button.className = "w-full text-left p-4 border border-gray-300 rounded-lg transition duration-300 answer-btn";
                button.onclick = () => selectAnswer(answer.value, button);
                answerButtons.appendChild(button);
            });

            setTimeout(() => questionTitle.classList.remove('question-slide-in'), 500);
            answerButtons.querySelector('button')?.focus();
        }

        function selectAnswer(value, button) {
            document.querySelectorAll('#answer-buttons button').forEach(btn => btn.disabled = true);
            button.classList.add('selected');
            const currentQuestion = questions[currentQuestionIndex];
            userAnswers.push({ question: currentQuestion.question, value: value });
            if (currentQuestion.type === 'economic') {
                economicScore += value;
            } else {
                socialScore += value;
            }
            const commentList = comments[value.toString()];
            answerComment.textContent = commentList[Math.floor(Math.random() * commentList.length)];

            setTimeout(() => {
                currentQuestionIndex++;
                showQuestion();
            }, 600);
        }

        function showResult() {
            // Calculate compass position (map score from -10 to +10 range to 5% to 95% range)
            const xPos = (economicScore + 10) / 20 * 90 + 5;
            const yPos = (socialScore + 10) / 20 * 90 + 5;

            let resultText = '';
            let description = '';
            let themeKey = '';

            const centrismThreshold = 3;
            if (Math.abs(economicScore) <= centrismThreshold && Math.abs(socialScore) <= centrismThreshold) {
                resultText = 'ì¤‘ë„ì£¼ì˜';
                description = 'ì´ë…ì— ì¹˜ìš°ì¹˜ì§€ ì•Šê³ , ì‚¬ì•ˆì— ë”°ë¼ ì‹¤ìš©ì ì¸ ê· í˜•ì ì„ ì°¾ìœ¼ë ¤ëŠ” ì„±í–¥ì…ë‹ˆë‹¤.';
                themeKey = 'centrist';
            } else if (economicScore <= 0 && socialScore > 0) {
                resultText = 'ê¶Œìœ„ì£¼ì˜ì  ì¢ŒíŒŒ';
                description = 'ê²½ì œì  í‰ë“±ì„ ì¤‘ì‹œí•˜ë©°, ì´ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ê°•ë ¥í•œ ì •ë¶€ì˜ ê°œì…ê³¼ í†µì œë¥¼ ì§€ì§€í•©ë‹ˆë‹¤.';
                themeKey = 'authLeft';
            } else if (economicScore > 0 && socialScore > 0) {
                resultText = 'ê¶Œìœ„ì£¼ì˜ì  ìš°íŒŒ';
                description = 'ì „í†µì  ê°€ì¹˜ì™€ ì‚¬íšŒ ì§ˆì„œë¥¼ ì¤‘ì‹œí•˜ë©°, ììœ  ì‹œì¥ ê²½ì œë¥¼ ì§€ì§€í•˜ì§€ë§Œ êµ­ê°€ ì•ˆë³´ì™€ ì§ˆì„œ ìœ ì§€ë¥¼ ìœ„í•´ ì •ë¶€ì˜ ì—­í• ì„ ê°•ì¡°í•©ë‹ˆë‹¤.';
                themeKey = 'authRight';
            } else if (economicScore <= 0 && socialScore <= 0) {
                resultText = 'ììœ ì£¼ì˜ì  ì¢ŒíŒŒ';
                description = 'ê°œì¸ì˜ ììœ ì™€ ê¶Œë¦¬ë¥¼ ìµœëŒ€í•œ ì¡´ì¤‘í•˜ë©°, ê²½ì œì ìœ¼ë¡œëŠ” í‰ë“±ê³¼ ë³µì§€ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ì •ë¶€ì˜ ì‚¬íšŒì  í†µì œì—ëŠ” ë¹„íŒì ì…ë‹ˆë‹¤.';
                themeKey = 'libLeft';
            } else { // economicScore > 0 && socialScore <= 0
                resultText = 'ììœ ì£¼ì˜ì  ìš°íŒŒ';
                description = 'ê°œì¸ì˜ ììœ ì™€ ì‹œì¥ì˜ ììœ¨ì„±ì„ ìµœìš°ì„  ê°€ì¹˜ë¡œ ì‚¼ìŠµë‹ˆë‹¤. ì •ë¶€ì˜ ê²½ì œì , ì‚¬íšŒì  ê°œì…ì„ ìµœì†Œí™”í•´ì•¼ í•œë‹¤ê³  ë´…ë‹ˆë‹¤.';
                themeKey = 'libRight';
            }

            const theme = themes[themeKey];
            const meme = memes[themeKey];

            resultTitle.textContent = `${userName}ë‹˜ì˜ ì •ì¹˜ì  ì¢Œí‘œ`;
            resultIcon.textContent = theme.icon;
            resultDisplay.textContent = resultText;
            resultDisplay.className = `text-white text-3xl font-bold font-poppins py-3 px-5 rounded-lg text-center ${theme.class}`;
            resultDescription.textContent = description;
            memeText.textContent = meme;

            // innerHTML ëŒ€ì‹  DOM ì¡°ì‘ ì‚¬ìš© (ë³´ì•ˆ ê°œì„ )
            generalInfo.innerHTML = '';
            const economicInfo = document.createElement('div');
            economicInfo.className = 'p-4 bg-blue-50 rounded-lg border border-blue-200';
            economicInfo.innerHTML = `
                <h3 class="font-bold text-blue-800 mb-1">ê²½ì œì  ìŠ¤í™íŠ¸ëŸ¼ (ì¢Œ/ìš°)</h3>
                <p>ì •ë¶€ì˜ ì‹œì¥ ê°œì…, ì„¸ê¸ˆ, ë³µì§€ ë“± ê²½ì œ ì •ì±…ì— ëŒ€í•œ ì…ì¥ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 'ì¢ŒíŒŒ'ëŠ” í‰ë“±ê³¼ ì •ë¶€ ê°œì…ì„, 'ìš°íŒŒ'ëŠ” ììœ  ì‹œì¥ê³¼ ê²½ìŸì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.</p>
            `;
            generalInfo.appendChild(economicInfo);

            const socialInfo = document.createElement('div');
            socialInfo.className = 'p-4 bg-green-50 rounded-lg border border-green-200';
            socialInfo.innerHTML = `
                <h3 class="font-bold text-green-800 mb-1">ì‚¬íšŒì  ìŠ¤í™íŠ¸ëŸ¼ (ê¶Œìœ„/ììœ )</h3>
                <p>ê°œì¸ì˜ ììœ , ì „í†µì  ê°€ì¹˜, ì‚¬íšŒ ì§ˆì„œ ë“± ì‚¬íšŒ ë¬¸í™”ì  ì´ìŠˆì— ëŒ€í•œ ì…ì¥ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 'ê¶Œìœ„ì£¼ì˜'ëŠ” ì§ˆì„œì™€ ê³µë™ì²´ë¥¼, 'ììœ ì£¼ì˜'ëŠ” ê°œì¸ì˜ ê¶Œë¦¬ì™€ ë‹¤ì–‘ì„±ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.</p>
            `;
            generalInfo.appendChild(socialInfo);

            const resultDot = document.getElementById('result-dot');
            const resultDotLabel = document.getElementById('result-dot-label');
            setTimeout(() => {
                resultDot.style.left = `${xPos}%`;
                resultDot.style.bottom = `${yPos}%`;
                resultDotLabel.textContent = userName;
            }, 500);

            setupShareButtons(resultText, meme);
            switchScreen(quizScreen, resultScreen);
        }

        function setupShareButtons(resultText, meme) {
            const isLocal = window.location.protocol === 'file:';
            const baseUrl = isLocal ? 'https://example.com/political-test' : window.location.origin + window.location.pathname;
            const shareTitle = `${userName}ë‹˜ì˜ ì •ì¹˜ ì„±í–¥ì€ '${resultText}'! ${meme}`.slice(0, 200);
            const shareUrl = encodeURIComponent(baseUrl);
            const encodedTitle = encodeURIComponent(shareTitle);

            document.getElementById('twitter-share').href = `https://x.com/intent/post?text=${encodedTitle}&url=${shareUrl}`;
            document.getElementById('facebook-share').href = `https://www.facebook.com/sharer/sharer.php?u=${shareUrl}&quote=${encodedTitle}`;
            
            const copyBtn = document.getElementById('copy-link-btn');
            const copyLinkText = document.getElementById('copy-link-text');
            const copyLinkIcon = document.getElementById('copy-link-icon');
            const originalText = copyLinkText.textContent;
            const originalIcon = copyLinkIcon.innerHTML;

            copyBtn.onclick = () => {
                const textToCopy = `${shareTitle} ${baseUrl}`;
                copyError.textContent = '';
                
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        copyLinkText.textContent = 'ë³µì‚¬ ì™„ë£Œ!';
                        copyLinkIcon.innerHTML = 'âœ…';
                        setTimeout(() => {
                            copyLinkText.textContent = originalText;
                            copyLinkIcon.innerHTML = originalIcon;
                        }, 2000);
                    }).catch((error) => {
                        console.error('Clipboard write failed:', error);
                        copyError.textContent = 'ë¸Œë¼ìš°ì €ì—ì„œ ë³µì‚¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                    });
                } else {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        copyLinkText.textContent = 'ë³µì‚¬ ì™„ë£Œ!';
                        copyLinkIcon.innerHTML = 'âœ…';
                        setTimeout(() => {
                            copyLinkText.textContent = originalText;
                            copyLinkIcon.innerHTML = originalIcon;
                        }, 2000);
                    } catch (error) {
                        console.error('Fallback copy failed:', error);
                        copyError.textContent = 'ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                    }
                    document.body.removeChild(textArea);
                }
            };
        }

        // ì´ˆê¸°í™”
        nameInput.focus();
    </script>
</body>
</html> 